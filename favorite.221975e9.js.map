{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kT,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,gCCA5FC,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FE,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FG,EAAiB,IAAAR,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCO5F,MAEMI,EAAaC,SAASC,cAAc,mBACpCC,EAAiBF,SAASC,cAAc,yBAE9C,IAAIE,EAAmB,GAYvB,SAASC,IACPL,EAAWM,mBAAmB,YAOvBF,EAAiBG,IAAIC,GAAeC,KAAK,I,CALlD,SAASC,IACPP,EAAeG,mBAAmB,YAmE3B,2HACaK,EAAAZ,yDACAY,EAAAb,kDACNa,EAAAd,sE,CAhEhB,SAASW,EAAcI,GACrB,MACEC,cAAeC,EACfC,KAAMC,EACNC,OAAQC,EACRC,OAAQC,EACRC,YAAaC,EACbC,aAAc5B,EACd6B,aAAcC,GACZb,EACJ,MAAO,qIAIQM,sBACAE,gEAE8BK,8QAItBd,EAAArB,GAAa,yJAMAwB,iDACEQ,oFAEHN,6BAChBrB,kH,EAnDjB,EAAA+B,EAAAC,MAPgB,iBAQlBvB,GAAmB,EAAAsB,EAAAC,MARD,gBASc,IAA5BvB,EAAiBwB,QACnBlB,IAEFL,KAEAK,IAmDFV,EAAW6B,iBAAiB,SAE5B,SAA4BC,GAC1B,IAAKA,EAAEC,OAAOC,UAAUC,SAAS,WAAmC,QAAtBH,EAAEC,OAAOG,SACrD,OAEF,MAAMC,EAAqBL,EAAEC,OAAOK,QAAQ,aAC5C,EAAAC,EAAAC,4BAA2BH,GAI7B,WACEnC,EAAWuC,UAAY,GACS,IAA5BnC,EAAiBwB,QACnBlB,KAEE,EAAAgB,EAAAC,MAjFc,kBAkFhBvB,GAAmB,EAAAsB,EAAAC,MAlFH,gBAmFhBtB,I,CAVFmC,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-805093cb77ccf2d7.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","node_modules/@parcel/runtime-js/lib/runtime-61de1b4fdea7d598.js","node_modules/@parcel/runtime-js/lib/runtime-2edd512331b09dd4.js","node_modules/@parcel/runtime-js/lib/runtime-d9a6c4f7c6b423e0.js","src/js/favorite-news.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"kHKil\\\":\\\"favorite.221975e9.js\\\",\\\"8OQ7p\\\":\\\"icons.c9d529e8.svg\\\",\\\"czupn\\\":\\\"def-img_mob.58218a7d.png\\\",\\\"6OSkZ\\\":\\\"def-img-tabl.c64e72d1.png\\\",\\\"1zzYy\\\":\\\"def-img-desk.4023487f.png\\\",\\\"8pSep\\\":\\\"favorite.6ef1fa56.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"czupn\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6OSkZ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1zzYy\")).toString();","import iconSprite from '../images/icons.svg';\nimport { save, load } from './ls-service';\nimport { removeItemFromLocalStorage } from './favorite-add-btn';\nimport defaultUrlMob from '../images/default-images/def-img_mob.png';\nimport defaultUrlTabl from '../images/default-images/def-img-tabl.png';\nimport defaultUrlDesk from '../images/default-images/def-img-desk.png';\n\nconst STORAGE_KEY = 'favoriteNews';\n\nconst favoriteEl = document.querySelector('.favorite__list');\nconst newsNotFoundEl = document.querySelector('.read-news__not-found');\n\nlet favoriteNewsData = [];\n\nif (load(STORAGE_KEY)) {\n  favoriteNewsData = load(STORAGE_KEY);\n  if (favoriteNewsData.length === 0) {\n    appendDummyMessage();\n  }\n  appendArticles();\n} else {\n  appendDummyMessage();\n}\n\nfunction appendArticles() {\n  favoriteEl.insertAdjacentHTML('beforeend', makeNewsGallery());\n}\nfunction appendDummyMessage() {\n  newsNotFoundEl.insertAdjacentHTML('beforeend', noFavoriteNewsMarkup());\n}\n\nfunction makeNewsGallery() {\n  return favoriteNewsData.map(articleMarkup).join('');\n}\nfunction articleMarkup(articles) {\n  const {\n    articleHeader: title,\n    date: published_date,\n    imgSrc: imageUrl,\n    imgAlt: imageCaption,\n    description: scripture,\n    linkReadMore: url,\n    newsCategory: section,\n  } = articles;\n  return `<li class=\"news__card-item\">\n    <div class=\"article\">\n      <div class=\"article__image_wrapper\">\n        <img\n          src=\"${imageUrl}\"\n          alt=\"${imageCaption}\"\n        />\n        <div class=\"article__category-label\">${section}</div>\n        <button class=\"article__btn target article__btn-favorite\" type=\"button\">\n          <span class=\"article__btn-text target\">Remove from favorite</span>\n          <svg class=\"article__heart-icon target\" width=\"16\" height=\"16\">\n            <use href=\"${iconSprite + '#heart-like'}\"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class=\"article__content\">\n        <h2 class=\"article__header\">${title}</h2>\n        <p class=\"article__subheader\">${scripture}</p>\n        <div class=\"article__footer\">\n          <p class=\"article__date\">${published_date}</p>\n          <a href=\"${url}\" class=\"article__readmore-link link-unstyled\">Read more</a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\n\nfavoriteEl.addEventListener('click', onFavoriteBtnClick);\n\nfunction onFavoriteBtnClick(e) {\n  if (!e.target.classList.contains('target') && e.target.nodeName !== 'use') {\n    return;\n  }\n  const favoriteArticleRef = e.target.closest('.article');\n  removeItemFromLocalStorage(favoriteArticleRef);\n  updateScreen();\n}\n\nfunction updateScreen() {\n  favoriteEl.innerHTML = '';\n  if (favoriteNewsData.length === 1) {\n    appendDummyMessage();\n  }\n  if (load(STORAGE_KEY)) {\n    favoriteNewsData = load(STORAGE_KEY);\n    appendArticles();\n  }\n}\n\nfunction noFavoriteNewsMarkup() {\n  return `<p class=\"read-news__text\">There are no favorite articles to display. Keep exploring!</p><picture>\n    <source srcset=\"${defaultUrlDesk}\" media=\"(min-width: 1280px)\">\n    <source srcset=\"${defaultUrlTabl}\" media=\"(min-width: 768px)\">\n    <img src=\"${defaultUrlMob}\" alt=\"default picture\" class=\"read-news__image\">\n    </picture>`;\n}\n"],"names":["parcelRequire","register","JSON","parse","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$5746f14be271adc2$exports","$8aa21ed21d834079$exports","$23912f8cb6befde7$exports","$010ea381a2ffedd2$var$favoriteEl","document","querySelector","$010ea381a2ffedd2$var$newsNotFoundEl","$010ea381a2ffedd2$var$favoriteNewsData","$010ea381a2ffedd2$var$appendArticles","insertAdjacentHTML","map","$010ea381a2ffedd2$var$articleMarkup","join","$010ea381a2ffedd2$var$appendDummyMessage","$parcel$interopDefault","articles","articleHeader","title","date","published_date","imgSrc","imageUrl","imgAlt","imageCaption","description","scripture","linkReadMore","newsCategory","section","$1mN7I","load","length","addEventListener","e","target","classList","contains","nodeName","favoriteArticleRef","closest","$6Mcn1","removeItemFromLocalStorage","innerHTML","$010ea381a2ffedd2$var$updateScreen"],"version":3,"file":"favorite.221975e9.js.map"}