{"mappings":"gfAAAA,EAAA,S,WCAAA,EAAA,SAEA,IAIMC,EAAwBC,+BACxBC,EAAwBC,gCAEA,SAACC,G,IAAQC,IAAUC,UAAAC,OAAA,YAAAD,UAAA,KAAAA,UAAA,GACzCE,EAAYJ,GAAkBK,SAC9BC,EAAiBF,EAAUG,iBAAiB,mBAElD,GAAID,EAAeH,OAAQ,CACzB,IAAMK,EAAiB,SAAAC,GAIrB,MAAO,CAAEC,KAHID,EAAKE,cAAc,yBAGjBC,KAFFH,EAAKE,cAAc,yB,EAK5BE,EAAY,SAACH,EAAME,GACvBF,EAAKI,UAAUC,OAAOnB,GACtBgB,EAAKE,UAAUC,OAAOjB,GACtBc,EAAKI,MAAMC,OAAS,C,EAGhBC,EAAW,SAACR,EAAME,GACtBF,EAAKI,UAAUK,IAAIvB,GACnBgB,EAAKE,UAAUK,IAAIrB,GACnBc,EAAKI,MAAMC,OAASL,EAAKQ,aAAe,I,EAGpCC,EAAgB,WACpBf,EAAegB,SAAQ,SAAAb,GACrB,IAAuBc,EAAAf,EAAeC,GAA9BC,EAAea,EAAfb,KAAME,EAASW,EAATX,KACdC,EAAUH,EAAME,E,KAKpBN,EAAegB,SAAQ,SAAAb,GACrB,IAAuBc,EAAAf,EAAeC,GAA9BC,EAAea,EAAfb,KAAME,EAASW,EAATX,KAERY,EAAc,WAClB,IAAMC,EAASf,EAAKI,UAAUY,SAAS9B,GAEnCI,IAAyB,IAAfC,GAAsBoB,IAEpCI,EAASZ,EAAUH,EAAME,GAAQM,EAASR,EAAME,E,EAIlDY,IAEAd,EAAKiB,iBAAiB,QAASH,E,KAKrCI,G","sources":["src/read.js","src/js/accordion.js"],"sourcesContent":["import './js/header';\nimport './js/read-news';\nimport './js/accordion';\nimport './js/news-handler';\nimport './js/scroll-up-btn';\n","import onLoadReadPage from './read-news';\n\nconst COMPONENT_NAME = 'accordion-card';\nconst COMPONENT_HEAD = COMPONENT_NAME + '__head';\nconst COMPONENT_BODY = COMPONENT_NAME + '__body';\nconst ACTIVE_MODIFIER = '--active';\nconst COMPONENT_HEAD_ACTIVE = COMPONENT_HEAD + ACTIVE_MODIFIER;\nconst COMPONENT_BODY_ACTIVE = COMPONENT_BODY + ACTIVE_MODIFIER;\n\nexport const makeAccordions = (parent, isMultiple = true) => {\n  const domParent = parent ? parent : document;\n  const accordionCards = domParent.querySelectorAll('.' + COMPONENT_NAME);\n\n  if (accordionCards.length) {\n    const getHeadAndBody = card => {\n      const head = card.querySelector('.' + COMPONENT_HEAD);\n      const body = card.querySelector('.' + COMPONENT_BODY);\n\n      return { head, body };\n    };\n\n    const closeCard = (head, body) => {\n      head.classList.remove(COMPONENT_HEAD_ACTIVE);\n      body.classList.remove(COMPONENT_BODY_ACTIVE);\n      body.style.height = 0;\n    };\n\n    const openCard = (head, body) => {\n      head.classList.add(COMPONENT_HEAD_ACTIVE);\n      body.classList.add(COMPONENT_BODY_ACTIVE);\n      body.style.height = body.scrollHeight + 'px';\n    };\n\n    const closeAllCards = () => {\n      accordionCards.forEach(card => {\n        const { head, body } = getHeadAndBody(card);\n        closeCard(head, body);\n      });\n    };\n\n\n    accordionCards.forEach(card => {\n      const { head, body } = getHeadAndBody(card);\n\n      const onHeadClick = () => {\n        const isOpen = head.classList.contains(COMPONENT_HEAD_ACTIVE);\n\n        if (parent && isMultiple === false) closeAllCards();\n\n        isOpen ? closeCard(head, body) : openCard(head, body);\n      };\n\n      // відкрити всі аккордіони за замовчуванням (імітуємо перший клік на аккордіон -> він відкриється, тому що був закритий)\n      onHeadClick();\n\n      head.addEventListener('click', onHeadClick);\n    });\n  }\n};\n\nmakeAccordions();\n"],"names":["parcelRequire","$d77ff4dfdd935315$var$COMPONENT_HEAD_ACTIVE","$d77ff4dfdd935315$var$COMPONENT_HEAD","$d77ff4dfdd935315$var$COMPONENT_BODY_ACTIVE","$d77ff4dfdd935315$var$COMPONENT_BODY","parent","isMultiple","arguments","length","domParent","document","accordionCards","querySelectorAll","getHeadAndBody","card","head","querySelector","body","closeCard","classList","remove","style","height","openCard","add","scrollHeight","closeAllCards","forEach","ref","onHeadClick","isOpen","contains","addEventListener","$d77ff4dfdd935315$export$bbdf8693f524702b"],"version":3,"file":"read.ccd2a1be.js.map"}