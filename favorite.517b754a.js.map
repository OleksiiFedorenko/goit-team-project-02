{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kT,MCAzDC,EAAiBJ,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,S,gCCAtHC,EAAiBP,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,S,MCAtHE,EAAiBR,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,S,MCAtHG,EAAiBT,EAAA,SAAAK,aAA6C,SAAWL,EAAA,SAAAM,QAA6C,S,iBCShHI,EAAc,eAEdC,EAAaC,SAASC,cAAc,mBACpCC,EAAiBF,SAASC,cAAc,yBAE1CE,EAAmB,GAYvB,SAASC,IACPL,EAAWM,mBAAmB,YAOvBF,EAAiBG,IAAIC,GAAeC,KAAK,I,CALlD,SAASC,IACPP,EAAeG,mBAAmB,YAqD3B,2HAEaK,OADAC,EAAAd,GAAe,wDAErBa,OADMC,EAAAf,GAAe,iDACPc,OAAdC,EAAAhB,GAAc,qE,CAlD9B,SAASY,EAAcK,GACrB,IACEC,EAOED,EAPFC,cACAC,EAMEF,EANFE,KACAC,EAKEH,EALFG,OACAC,EAIEJ,EAJFI,OACAC,EAGEL,EAHFK,YACAC,EAEEN,EAFFM,aACAC,EACEP,EADFO,aAGF,OAAO,EAAAC,EAAAC,SACLN,EACAC,EACAG,EACAR,EAAAnB,GACAqB,EACAI,EACAC,EACA,EACAJ,E,EAxCA,EAAAQ,EAAAC,MAAKzB,IAEyB,KADhCK,GAAmB,EAAAmB,EAAAC,MAAKzB,IACH0B,QACnBf,IAEFL,KAEAK,IAqCFV,EAAW0B,iBAAiB,SAE5B,SAA4BC,GAC1B,IAAKA,EAAEC,OAAOC,UAAUC,SAAS,WAAmC,QAAtBH,EAAEC,OAAOG,SACrD,OAEF,IAAMC,EAAqBL,EAAEC,OAAOK,QAAQ,aAC5C,EAAAZ,EAAAa,4BAA2BF,GAI7B,WACEhC,EAAWmC,UAAY,GACS,IAA5B/B,EAAiBqB,QACnBf,KAEE,EAAAa,EAAAC,MAAKzB,KACPK,GAAmB,EAAAmB,EAAAC,MAAKzB,GACxBM,I,CAVF+B,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-c6a6eda859cf42bc.js","node_modules/@parcel/runtime-js/lib/runtime-5c5a927f3bf280b2.js","node_modules/@parcel/runtime-js/lib/runtime-9729071afbf99cb0.js","node_modules/@parcel/runtime-js/lib/runtime-ec0b089948772374.js","node_modules/@parcel/runtime-js/lib/runtime-73ddb626bf2e32d5.js","src/js/favorite-news.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"StDo9\\\":\\\"favorite.517b754a.js\\\",\\\"410VS\\\":\\\"icons.c9d529e8.svg\\\",\\\"mNRif\\\":\\\"def-img_mob.58218a7d.png\\\",\\\"4hSHI\\\":\\\"def-img-tabl.c64e72d1.png\\\",\\\"lWOmu\\\":\\\"def-img-desk.4023487f.png\\\",\\\"1BY7P\\\":\\\"favorite.feade540.js\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('StDo9') + require('./helpers/bundle-manifest').resolve(\"410VS\");","module.exports = require('./helpers/bundle-url').getBundleURL('StDo9') + require('./helpers/bundle-manifest').resolve(\"mNRif\");","module.exports = require('./helpers/bundle-url').getBundleURL('StDo9') + require('./helpers/bundle-manifest').resolve(\"4hSHI\");","module.exports = require('./helpers/bundle-url').getBundleURL('StDo9') + require('./helpers/bundle-manifest').resolve(\"lWOmu\");","import iconSprite from '../images/icons.svg';\nimport { save, load } from './ls-service';\nimport { removeItemFromLocalStorage } from './favorite-add-btn';\nimport defaultUrlMob from '../images/default-images/def-img_mob.png';\nimport defaultUrlTabl from '../images/default-images/def-img-tabl.png';\nimport defaultUrlDesk from '../images/default-images/def-img-desk.png';\nimport alreadyFavorite from './favorite-add-btn';\nimport iconSprite from '../images/icons.svg';\n\nconst STORAGE_KEY = 'favoriteNews';\n\nconst favoriteEl = document.querySelector('.favorite__list');\nconst newsNotFoundEl = document.querySelector('.read-news__not-found');\n\nlet favoriteNewsData = [];\n\nif (load(STORAGE_KEY)) {\n  favoriteNewsData = load(STORAGE_KEY);\n  if (favoriteNewsData.length === 0) {\n    appendDummyMessage();\n  }\n  appendArticles();\n} else {\n  appendDummyMessage();\n}\n\nfunction appendArticles() {\n  favoriteEl.insertAdjacentHTML('beforeend', makeNewsGallery());\n}\nfunction appendDummyMessage() {\n  newsNotFoundEl.insertAdjacentHTML('beforeend', noFavoriteNewsMarkup());\n}\n\nfunction makeNewsGallery() {\n  return favoriteNewsData.map(articleMarkup).join('');\n}\nfunction articleMarkup(articles) {\n  const {\n    articleHeader,\n    date,\n    imgSrc,\n    imgAlt,\n    description,\n    linkReadMore,\n    newsCategory,\n  } = articles;\n\n  return alreadyFavorite(\n    imgSrc,\n    imgAlt,\n    newsCategory,\n    iconSprite,\n    articleHeader,\n    description,\n    linkReadMore,\n    0,\n    date\n  );\n}\n\nfavoriteEl.addEventListener('click', onFavoriteBtnClick);\n\nfunction onFavoriteBtnClick(e) {\n  if (!e.target.classList.contains('target') && e.target.nodeName !== 'use') {\n    return;\n  }\n  const favoriteArticleRef = e.target.closest('.article');\n  removeItemFromLocalStorage(favoriteArticleRef);\n  updateScreen();\n}\n\nfunction updateScreen() {\n  favoriteEl.innerHTML = '';\n  if (favoriteNewsData.length === 1) {\n    appendDummyMessage();\n  }\n  if (load(STORAGE_KEY)) {\n    favoriteNewsData = load(STORAGE_KEY);\n    appendArticles();\n  }\n}\n\nfunction noFavoriteNewsMarkup() {\n  return `<p class=\"read-news__text\">There are no favorite articles to display. Keep exploring!</p><picture>\n    <source srcset=\"${defaultUrlDesk}\" media=\"(min-width: 1280px)\">\n    <source srcset=\"${defaultUrlTabl}\" media=\"(min-width: 768px)\">\n    <img src=\"${defaultUrlMob}\" alt=\"default picture\" class=\"read-news__image\">\n    </picture>`;\n}\n"],"names":["parcelRequire","register","JSON","parse","$81e5423552a9fb32$exports","getBundleURL","resolve","$e803280cc024b9ff$exports","$a4bd73c5fd77786f$exports","$df55e4502aa3519f$exports","$3837064c6c6d6cad$var$STORAGE_KEY","$3837064c6c6d6cad$var$favoriteEl","document","querySelector","$3837064c6c6d6cad$var$newsNotFoundEl","$3837064c6c6d6cad$var$favoriteNewsData","$3837064c6c6d6cad$var$appendArticles","insertAdjacentHTML","map","$3837064c6c6d6cad$var$articleMarkup","join","$3837064c6c6d6cad$var$appendDummyMessage","concat","$parcel$interopDefault","articles","articleHeader","date","imgSrc","imgAlt","description","linkReadMore","newsCategory","$kVUSs","default","$31XcY","load","length","addEventListener","e","target","classList","contains","nodeName","favoriteArticleRef","closest","removeItemFromLocalStorage","innerHTML","$3837064c6c6d6cad$var$updateScreen"],"version":3,"file":"favorite.517b754a.js.map"}