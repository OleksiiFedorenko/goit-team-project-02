{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-080d53076b738c71.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","src/js/ls-service.js","src/js/favorite-news.js","src/js/header.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"kHKil\\\":\\\"favorite.aab17b85.js\\\",\\\"8OQ7p\\\":\\\"icons.c9d529e8.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport { save, load, remove };\n","import iconSprite from '../images/icons.svg';\nimport { save, load } from './ls-service';\n\nconst STORAGE_KEY = 'favoriteNews';\n\nconst favoriteEl = document.querySelector('.favorite__list');\n\nconst savedFavorites = load(STORAGE_KEY);\n\nappendArticles();\n\nfunction appendArticles(articles) {\n  favoriteEl.insertAdjacentHTML('beforeend', makeNewsGallery(articles));\n}\n\nfunction makeNewsGallery() {\n  return savedFavorites.map(articleMarkup).join('');\n}\nfunction articleMarkup(articles) {\n  const {\n    articleHeader: title,\n    date: published_date,\n    imgSrc: imageUrl,\n    imgAlt: imageCaption,\n    description: scripture,\n    linkReadMore: url,\n    newsCategory: section,\n  } = articles;\n  return `<li class=\"news__card-item\">\n    <div class=\"article\">\n      <div class=\"article__image_wrapper\">\n        <img\n          src=\"${imageUrl}\"\n          alt=\"${imageCaption}\"\n        />\n        <div class=\"article__category-label\">${section}</div>\n        <button class=\"article__btn target article__btn-favorite\" type=\"button\">\n          <span class=\"article__btn-text target\">Remove from favorite</span>\n          <svg class=\"article__heart-icon target\" width=\"16\" height=\"16\">\n            <use href=\"${iconSprite + '#heart-like'}\"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class=\"article__content\">\n        <h2 class=\"article__header\">${title}</h2>\n        <p class=\"article__subheader\">${scripture}</p>\n        <div class=\"article__footer\">\n          <p class=\"article__date\">${published_date}</p>\n          <a href=\"${url}\" class=\"article__readmore-link link-unstyled\">Read more</a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\n","// * ===== Логіка: =====\n\nconst refs = {\n  toggleBtn: document.querySelector('.toggle-btn'),\n  pageBody: document.querySelector('body'),\n\n  burgerBtn: document.querySelector('.burger-btn'),\n  burgerMenu: document.querySelector('.burger-menu'),\n\n  showFormBtn: document.querySelector('.header-form__btn--outer'),\n  searchInput: document.querySelector('.header-form__field'),\n  searchBtn: document.querySelector('.header-form__btn--inner'),\n  searchForm: document.querySelector('.header-form '),\n\n  // ! ----------- для вирішення проблеми через костиль в JS:\n  dateWrapper: document.querySelector('.date-container'),\n  dateBtn: document.querySelector('.date-btn'),\n  calendarContainer: document.querySelector('.calendar-container'),\n};\n\ninitThemeMode();\ncheckMediaScreen();\n\nrefs.toggleBtn.addEventListener('click', onToggleBtnClick);\nrefs.burgerBtn.addEventListener('click', onBurgerBtnClick);\nrefs.showFormBtn.addEventListener('click', onShowFormBtnClick);\n\n//* ===== Функції: =====\n\nfunction checkMediaScreen() {\n  //* Перевіряємо ширину екрану, щоб закрити функціонал в межах мобільного медіа:\n  const isScreenMobile = window.matchMedia('(max-width: 767px)').matches;\n\n  //* Змінюємо тип кнопки на \"сабміт\" для НЕ-мобільних екранів\n  //* та додаємо слухача події на форму:\n  if (!isScreenMobile) {\n    // refs.searchForm.classList.add('is-shown');--(через це не приховувалося поле пошуку на моб. версії)\n    refs.searchForm.classList.add('is-shown');\n    refs.searchForm.addEventListener('submit', onSearchFormSubmit);\n  } else {\n    //* для реалізації красивої появи інпуту ці елементи\n    //* приховані через opacity та неактивні:\n    // refs.searchInput.disabled = true;--(через це не приховувалося поле пошуку на моб. версії)\n    refs.searchInput.disabled = true;\n    refs.searchBtn.disabled = true;\n  }\n\n  return isScreenMobile;\n}\n\nfunction initThemeMode() {\n  const currentThemeMode = localStorage.getItem('ui-theme');\n\n  console.log('LOCAL STORAGE: UI-theme mode is ', currentThemeMode);\n\n  if (currentThemeMode === 'dark') {\n    refs.pageBody.classList.add('dark-mode');\n  }\n}\n\nfunction updateThemeMode() {\n  const isThemeDark = refs.pageBody.classList.contains('dark-mode');\n  //   console.log(isThemeDark);\n\n  if (isThemeDark) {\n    console.log('Current UI-theme is dark.');\n    localStorage.setItem('ui-theme', 'dark');\n  } else {\n    console.log('Current UI-theme is light.');\n    localStorage.setItem('ui-theme', 'light');\n  }\n}\n\nfunction onToggleBtnClick() {\n  refs.pageBody.classList.toggle('dark-mode');\n\n  updateThemeMode();\n}\n\nfunction onBurgerBtnClick() {\n  const expanded =\n    refs.burgerBtn.getAttribute('aria-expanded') === 'true' || false;\n\n  refs.burgerBtn.classList.toggle('is-open');\n  refs.burgerBtn.setAttribute('aria-expanded', !expanded);\n\n  refs.burgerMenu.classList.toggle('is-open');\n\n  // ! -----------------   Костиль, щоб вирішити пробему з z-індексами:\n  console.log(refs.dateWrapper.classList.contains('is-active'));\n  if (refs.dateWrapper.classList.contains('is-active')) {\n    refs.dateWrapper.classList.remove('is-active');\n  }\n  refs.dateBtn.classList.toggle('is-hidden');\n  refs.calendarContainer.classList.toggle('is-hidden');\n}\n\nfunction onShowFormBtnClick() {\n  //* Функціонал для мобільної версії екрану:\n  if (checkMediaScreen()) {\n    showSearchForm();\n\n    refs.searchForm.addEventListener('submit', onSearchFormSubmit);\n    //* Щоб інпут приховувався при втраті фокусу:\n    refs.searchInput.addEventListener('blur', hideSearchForm, { once: true });\n  }\n}\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  console.log('Form submit...');\n\n  //* В мобільній версії після сабміту поле інпуту приховується:\n  if (checkMediaScreen()) {\n    hideSearchForm();\n  }\n\n  // todo Подальша логіка сабміту форми...\n}\n\nfunction hideSearchForm() {\n  refs.searchForm.classList.remove('is-shown');\n  // refs.searchInput.disabled = true;--(через це не приховувалося поле пошуку на моб. версії)\n  refs.searchInput.disabled = true;\n  refs.searchBtn.disabled = true;\n\n  refs.showFormBtn.classList.remove('is-hidden');\n  refs.showFormBtn.disabled = false;\n\n  console.log('Search form is hidden...');\n}\n\nfunction showSearchForm() {\n  refs.searchForm.classList.add('is-shown');\n  refs.searchInput.disabled = false;\n  refs.searchBtn.disabled = false;\n\n  refs.showFormBtn.classList.add('is-hidden');\n  refs.showFormBtn.disabled = true;\n\n  console.log('Search form is shown...');\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$010ea381a2ffedd2$var$favoriteEl","document","querySelector","$010ea381a2ffedd2$var$savedFavorites","key","serializedState","localStorage","getItem","undefined","error","console","message","$010ea381a2ffedd2$var$articleMarkup","articles","articleHeader","title","date","published_date","imgSrc","imageUrl","imgAlt","imageCaption","description","scripture","linkReadMore","newsCategory","section","$parcel$interopDefault","insertAdjacentHTML","map","join","$8aad853c076397e7$var$refs","toggleBtn","pageBody","burgerBtn","burgerMenu","showFormBtn","searchInput","searchBtn","searchForm","dateWrapper","dateBtn","calendarContainer","$8aad853c076397e7$var$checkMediaScreen","isScreenMobile","window","matchMedia","matches","disabled","classList","add","addEventListener","$8aad853c076397e7$var$onSearchFormSubmit","e","preventDefault","log","$8aad853c076397e7$var$hideSearchForm","remove","currentThemeMode","$8aad853c076397e7$var$initThemeMode","toggle","contains","setItem","expanded","getAttribute","setAttribute","once"],"version":3,"file":"favorite.aab17b85.js.map"}