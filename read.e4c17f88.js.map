{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0c018f082cb5ec24.js","src/js/header.js","node_modules/@parcel/runtime-js/lib/runtime-61de1b4fdea7d598.js","node_modules/@parcel/runtime-js/lib/runtime-2edd512331b09dd4.js","node_modules/@parcel/runtime-js/lib/runtime-d9a6c4f7c6b423e0.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","src/js/read-news.js","src/js/scroll-up-btn.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jewIc\\\":\\\"read.e4c17f88.js\\\",\\\"czupn\\\":\\\"def-img_mob.58218a7d.png\\\",\\\"6OSkZ\\\":\\\"def-img-tabl.c64e72d1.png\\\",\\\"1zzYy\\\":\\\"def-img-desk.4023487f.png\\\",\\\"8OQ7p\\\":\\\"icons.c9d529e8.svg\\\"}\"));","// * ===== Логіка: =====\n\nconst refs = {\n  toggleBtn: document.querySelector('.toggle-btn'),\n  pageBody: document.querySelector('body'),\n\n  burgerBtn: document.querySelector('.burger-btn'),\n  burgerMenu: document.querySelector('.burger-menu'),\n\n  showFormBtn: document.querySelector('.header-form__btn--outer'),\n  searchInput: document.querySelector('.header-form__field'),\n  searchBtn: document.querySelector('.header-form__btn--inner'),\n  searchForm: document.querySelector('.header-form '),\n\n  // ! ----------- для вирішення проблеми через костиль в JS:\n  dateWrapper: document.querySelector('.date-container'),\n  dateBtn: document.querySelector('.date-btn'),\n  calendarContainer: document.querySelector('.calendar-container'),\n};\n\ninitThemeMode();\ncheckMediaScreen();\n\nrefs.toggleBtn.addEventListener('click', onToggleBtnClick);\nrefs.burgerBtn.addEventListener('click', onBurgerBtnClick);\nrefs.showFormBtn.addEventListener('click', onShowFormBtnClick);\n\n//* ===== Функції: =====\n\nfunction checkMediaScreen() {\n  //* Перевіряємо ширину екрану, щоб закрити функціонал в межах мобільного медіа:\n  const isScreenMobile = window.matchMedia('(max-width: 767px)').matches;\n\n  //* Змінюємо тип кнопки на \"сабміт\" для НЕ-мобільних екранів\n  //* та додаємо слухача події на форму:\n  if (!isScreenMobile) {\n    // refs.searchForm.classList.add('is-shown');--(через це не приховувалося поле пошуку на моб. версії)\n    refs.searchForm.classList.add('is-shown');\n    refs.searchForm.addEventListener('submit', onSearchFormSubmit);\n  } else {\n    //* для реалізації красивої появи інпуту ці елементи\n    //* приховані через opacity та неактивні:\n    // refs.searchInput.disabled = true;--(через це не приховувалося поле пошуку на моб. версії)\n    refs.searchInput.disabled = true;\n    refs.searchBtn.disabled = true;\n  }\n\n  return isScreenMobile;\n}\n\nfunction initThemeMode() {\n  const currentThemeMode = localStorage.getItem('ui-theme');\n\n  console.log('LOCAL STORAGE: UI-theme mode is ', currentThemeMode);\n\n  if (currentThemeMode === 'dark') {\n    refs.pageBody.classList.add('dark-mode');\n  }\n}\n\nfunction updateThemeMode() {\n  const isThemeDark = refs.pageBody.classList.contains('dark-mode');\n  //   console.log(isThemeDark);\n\n  if (isThemeDark) {\n    console.log('Current UI-theme is dark.');\n    localStorage.setItem('ui-theme', 'dark');\n  } else {\n    console.log('Current UI-theme is light.');\n    localStorage.setItem('ui-theme', 'light');\n  }\n}\n\nfunction onToggleBtnClick() {\n  refs.pageBody.classList.toggle('dark-mode');\n\n  updateThemeMode();\n}\n\nfunction onBurgerBtnClick() {\n  const expanded =\n    refs.burgerBtn.getAttribute('aria-expanded') === 'true' || false;\n\n  refs.burgerBtn.classList.toggle('is-open');\n  refs.burgerBtn.setAttribute('aria-expanded', !expanded);\n\n  refs.burgerMenu.classList.toggle('is-open');\n\n  // ! -----------------   Костиль, щоб вирішити пробему з z-індексами:\n  console.log(refs.dateWrapper.classList.contains('is-active'));\n  if (refs.dateWrapper.classList.contains('is-active')) {\n    refs.dateWrapper.classList.remove('is-active');\n  }\n  refs.dateBtn.classList.toggle('is-hidden');\n  refs.calendarContainer.classList.toggle('is-hidden');\n}\n\nfunction onShowFormBtnClick() {\n  //* Функціонал для мобільної версії екрану:\n  if (checkMediaScreen()) {\n    showSearchForm();\n\n    refs.searchForm.addEventListener('submit', onSearchFormSubmit);\n    //* Щоб інпут приховувався при втраті фокусу:\n    refs.searchInput.addEventListener('blur', hideSearchForm, { once: true });\n  }\n}\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  console.log('Form submit...');\n\n  //* В мобільній версії після сабміту поле інпуту приховується:\n  if (checkMediaScreen()) {\n    hideSearchForm();\n  }\n\n  // todo Подальша логіка сабміту форми...\n}\n\nfunction hideSearchForm() {\n  refs.searchForm.classList.remove('is-shown');\n  // refs.searchInput.disabled = true;--(через це не приховувалося поле пошуку на моб. версії)\n  refs.searchInput.disabled = true;\n  refs.searchBtn.disabled = true;\n\n  refs.showFormBtn.classList.remove('is-hidden');\n  refs.showFormBtn.disabled = false;\n\n  console.log('Search form is hidden...');\n}\n\nfunction showSearchForm() {\n  refs.searchForm.classList.add('is-shown');\n  refs.searchInput.disabled = false;\n  refs.searchBtn.disabled = false;\n\n  refs.showFormBtn.classList.add('is-hidden');\n  refs.showFormBtn.disabled = true;\n\n  console.log('Search form is shown...');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"czupn\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6OSkZ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1zzYy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","import formatDate from './news-date';\nimport defaultUrlMob from '../images/default-images/def-img_mob.png';\nimport defaultUrlTabl from '../images/default-images/def-img-tabl.png';\nimport defaultUrlDesk from '../images/default-images/def-img-desk.png';\nimport iconSprite from '../images/icons.svg';\nconst LOCAL_KEY = 'read-news';\n\n//js for local storage\nexport function onNewsListClick(event) {\n  const targetLink = event.target.classList.contains('article__readmore-link');\n  if (!targetLink) {\n    return;\n  }\n\n  const articleRef = event.target.closest('.article');\n\n  articleRef.classList.add('read');\n\n  const imageUrl = articleRef.querySelector('img').src;\n  const imageCaption = articleRef.querySelector('img').alt;\n  const section = articleRef.querySelector(\n    '.article__category-label'\n  ).textContent;\n  const iconSprite = articleRef.querySelector('use').href.baseVal;\n  const reductTitle = articleRef.querySelector('.article__header').textContent;\n  const scripture = articleRef.querySelector('.article__subheader').textContent;\n  const published_date = articleRef.querySelector('.article__date').textContent;\n  const url = articleRef.querySelector('.article__readmore-link').href;\n\n  const date = new Date();\n  const readDate = formatDate(date);\n\n  const article = {\n    imageUrl,\n    imageCaption,\n    section,\n    iconSprite,\n    reductTitle,\n    scripture,\n    published_date,\n    url,\n    readDate,\n  };\n\n  const dataFromLS = JSON.parse(localStorage.getItem(LOCAL_KEY)) || [];\n  const presentArticle = dataFromLS.find(el => el.url === article.url);\n\n  if (presentArticle) {\n    const date = new Date();\n    const readDate = date.toISOString().slice(0, 10);\n    presentArticle.readDate = readDate;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(dataFromLS));\n    return;\n  }\n\n  const newDataToLS = [...dataFromLS, { ...article }];\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(newDataToLS));\n}\n\nexport function checkPresentArticleInLS(url) {\n  const LOCAL_KEY = 'read-news';\n  const dataFromLS = JSON.parse(localStorage.getItem(LOCAL_KEY)) || [];\n  return dataFromLS.find(el => el.url === url);\n}\n\n//js for read-page\nconst readNewsListRef = document.querySelector('.read-news__list');\nconst readNewsNotFoundRef = document.querySelector('.read-news__not-found');\n\nfunction onLoadReadPage() {\n  const dataFromLS = JSON.parse(localStorage.getItem(LOCAL_KEY));\n  if (!dataFromLS) {\n    readNewsNotFoundRef.innerHTML = `<p class=\"read-news__text\">There are no read articles to display. Keep exploring!</p><picture>\n    <source srcset=\"${defaultUrlDesk}\" media=\"(min-width: 1280px)\">\n    <source srcset=\"${defaultUrlTabl}\" media=\"(min-width: 768px)\">\n    <img src=\"${defaultUrlMob}\" alt=\"default picture\" class=\"read-news__image\">\n    </picture>`;\n    return;\n  }\n  const sortedDataFromLS = [...dataFromLS].sort((a, b) =>\n    b.readDate.localeCompare(a.readDate)\n  );\n\n  const markup = sortedDataFromLS\n    .map(\n      ({\n        imageUrl,\n        imageCaption,\n        section,\n        // iconSprite,\n        reductTitle,\n        scripture,\n        published_date,\n        url,\n        readDate,\n      }) => `<li class=\"news__card-item\">\n  <div class=\"article\">\n    <div class=\"article__image_wrapper\">        \n      <img\n        src=\"${imageUrl}\"\n        alt=\"${imageCaption}\"\n      />        \n      <div class=\"article__category-label\">${section}</div>\n      <button class=\"article__btn target\" type=\"button\">\n        <span class=\"article__btn-text target\">Add to favorite</span>\n        <svg class=\"article__heart-icon target\" width=\"16\" height=\"16\">\n          <use href=\"${iconSprite + '#heart-like'}\"></use>\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"article__content\">\n      <h2 class=\"article__header\">${reductTitle}</h2>\n      <p class=\"article__subheader\">${scripture}</p>\n      <div class=\"article__footer\">\n      <p class=\"article__date\">${readDate}</p>\n      <a href=\"${url}\" target=\"_blank\" class=\"article__readmore-link link-unstyled\">Read more</a>\n      </div>\n    </div>\n  </div>\n</li>`\n    )\n    .join('');\n  readNewsListRef.innerHTML = markup;\n}\n\nreadNewsListRef ? onLoadReadPage() : null;\n","const scrollToTopBtn = document.querySelector('#scroll-to-top-btn');\n\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > window.innerHeight / 3) {\n    scrollToTopBtn.classList.add('show-btn');\n  } else {\n    scrollToTopBtn.classList.remove('show-btn');\n  }\n});\n\nscrollToTopBtn.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$8aad853c076397e7$var$refs","toggleBtn","document","querySelector","pageBody","burgerBtn","burgerMenu","showFormBtn","searchInput","searchBtn","searchForm","dateWrapper","dateBtn","calendarContainer","$8aad853c076397e7$var$checkMediaScreen","isScreenMobile","window","matchMedia","matches","disabled","classList","add","addEventListener","$8aad853c076397e7$var$onSearchFormSubmit","e","preventDefault","console","log","$8aad853c076397e7$var$hideSearchForm","remove","currentThemeMode","localStorage","getItem","$8aad853c076397e7$var$initThemeMode","toggle","contains","setItem","expanded","getAttribute","setAttribute","once","$5746f14be271adc2$exports","URL","resolve","import","meta","url","toString","$8aa21ed21d834079$exports","$23912f8cb6befde7$exports","$e27edc6dc33d0133$exports","$d2dbcf7b383c1554$var$readNewsListRef","$d2dbcf7b383c1554$var$readNewsNotFoundRef","dataFromLS","innerHTML","$parcel$interopDefault","markup","sort","a","b","readDate","localeCompare","map","imageUrl","imageCaption","section","reductTitle","scripture","published_date","join","$d2dbcf7b383c1554$var$onLoadReadPage","$6e615e981b554d80$var$scrollToTopBtn","scrollY","innerHeight","scrollTo","top","behavior"],"version":3,"file":"read.e4c17f88.js.map"}